{"version":3,"sources":["views/ui/Spells.js"],"names":["qs","require","Spells","query","parse","window","location","search","console","log","level","school","clazz","navigate","useNavigate","className","id","property","content","toggle","targetId","accordionId","row","for","sm","defaultValue","undefined","name","type","size","onClick","url","URL","searchParams","delete","history","replaceState","SpellsJson","map","nt","index","cl","spellClass","nt2","join","toLowerCase","includes","lg","xl","tag","dangerouslySetInnerHTML","__html","text","style","opacity","height","width","padding","zIndex","position","color"],"mappings":"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","file":"static/js/10.90d2238b.chunk.js","sourcesContent":["import {\n    AccordionBody,\n    AccordionHeader,\n    AccordionItem,\n    Button,\n    Card,\n    CardBody,\n    CardSubtitle,\n    CardText,\n    CardTitle,\n    Col,\n    Form,\n    FormGroup,\n    Input,\n    Label,\n    Row,\n    UncontrolledAccordion,\n\n} from \"reactstrap\";\nimport SpellsJson from \"../../static/spells.json\";\nimport React from \"react\";\nimport {useNavigate} from \"react-router\";\nimport MetaTags from \"react-meta-tags\";\n\nconst qs = require('query-string');\n\n\nconst Spells = () => {\n    const query = qs.parse(window.location.search);\n    console.log(window.location.search)\n    let level = query.level\n    let school = query.school\n    let clazz = query.clazz\n\n    let navigate = useNavigate();\n    return (\n        <div>\n            <div className=\"wrapper\">\n                <MetaTags>\n                    <title>Заклинания</title>\n                    <meta id=\"og-title\" property=\"og:title\" content=\"Заклинания\"/>\n                </MetaTags>\n            </div>\n\n            <div>\n                <div>\n                    <UncontrolledAccordion\n                        toggle={function noRefCheck() {\n                        }}\n                    >\n                        <AccordionItem>\n                            <AccordionHeader targetId=\"1\">\n                                Фильтр\n                            </AccordionHeader>\n                            <AccordionBody accordionId=\"1\">\n                                <Form>\n                                    <FormGroup row>\n                                        <Label\n                                            for=\"exampleSelect\"\n                                            sm={3}>\n                                            Уровень\n                                        </Label>\n                                        <Col sm={2}>\n                                            <Input\n                                                defaultValue={level === undefined ? undefined : level}\n                                                id=\"level\"\n                                                name=\"level\"\n                                                type=\"select\">\n                                                <option>\n                                                </option>\n                                                <option>\n                                                    0\n                                                </option>\n                                                <option>\n                                                    1\n                                                </option>\n                                                <option>\n                                                    2\n                                                </option>\n                                                <option>\n                                                    3\n                                                </option>\n                                                <option>\n                                                    4\n                                                </option>\n                                                <option>\n                                                    5\n                                                </option>\n                                                <option>\n                                                    6\n                                                </option>\n                                                <option>\n                                                    7\n                                                </option>\n                                                <option>\n                                                    8\n                                                </option>\n                                                <option>\n                                                    9\n                                                </option>\n                                            </Input>\n                                        </Col>\n\n                                        <Label\n                                            for=\"exampleSelect\"\n                                            sm={3}>\n                                            Школа\n                                        </Label>\n                                        <Col sm={2}>\n                                            <Input\n                                                defaultValue={school === undefined ? 0 : school}\n                                                id=\"school\"\n                                                name=\"school\"\n                                                type=\"select\">\n                                                <option>\n                                                </option>\n                                                <option>\n                                                    Очарование\n                                                </option>\n                                                <option>\n                                                    Воплощение\n                                                </option>\n                                                <option>\n                                                    Преобразование\n                                                </option>\n                                                <option>\n                                                    Некромантия\n                                                </option>\n                                                <option>\n                                                    Ограждение\n                                                </option>\n                                                <option>\n                                                    Проявление\n                                                </option>\n                                                <option>\n                                                    Иллюзия\n                                                </option>\n                                                <option>\n                                                    Прорицание\n                                                </option>\n                                                <option>\n                                                    Вызов\n                                                </option>\n                                            </Input>\n                                        </Col>\n                                        <Label\n                                            for=\"exampleSelect\"\n                                            sm={3}>\n                                            Класс\n                                        </Label>\n                                        <Col sm={2}>\n                                            <Input\n                                                defaultValue={clazz === undefined ? 0 : clazz}\n                                                id=\"clazz\"\n                                                name=\"clazz\"\n                                                type=\"select\">\n                                                <option>\n                                                </option>\n                                                <option>\n                                                    Жрец\n                                                </option>\n                                                <option>\n                                                    Друид\n                                                </option>\n                                                <option>\n                                                    Бард\n                                                </option>\n                                                <option>\n                                                    Паладин\n                                                </option>\n                                                <option>\n                                                    Рейнджер\n                                                </option>\n                                                <option>\n                                                    Чародей\n                                                </option>\n                                                <option>\n                                                    Колдун\n                                                </option>\n                                                <option>\n                                                    Волшебник\n                                                </option>\n                                            </Input>\n                                        </Col>\n                                        <Label\n                                            for=\"exampleSelect\">\n                                        </Label>\n                                        <Col\n                                            sm={{\n                                                size: 1\n                                            }}>\n                                            <Button>\n                                                Поиск\n                                            </Button>\n                                        </Col>\n                                        <Label\n                                            for=\"exampleSelect\">\n                                        </Label>\n                                        <Col>\n                                            <Button onClick={() => {\n                                                const url = new URL(window.location);\n                                                url.searchParams.delete('level');\n                                                url.searchParams.delete('clazz');\n                                                url.searchParams.delete('school');\n\n                                                window.history.replaceState(null, null, url)\n                                                navigate(`/spells`)\n                                            }}>\n                                                Очистить\n                                            </Button>\n                                        </Col>\n                                    </FormGroup>\n                                </Form>\n\n                            </AccordionBody>\n                        </AccordionItem>\n                    </UncontrolledAccordion>\n                </div>\n            </div>\n\n            <br/>\n            <Row>\n                {SpellsJson.map((nt, index) => {\n                    var cl = nt.spellClass.map((nt2) => {\n                        return nt2.name\n                    }).join(', ');\n\n                    if ((level === undefined || level === '' || nt.level <= level) && (level === undefined || level === '' || nt.level >= level) &&\n                        (school === undefined || school === '' || nt.school?.toLowerCase() === school?.toLowerCase()) &&\n                        (clazz === undefined || clazz === '' || cl?.toLowerCase().includes(clazz?.toLowerCase()))) {\n                        return (\n                            <Col sm=\"6\" lg=\"6\" xl=\"3\" key={index}>\n                                <Card>\n                                    <CardBody className=\"p-4\">\n                                        <CardTitle tag=\"h5\">{nt.name}</CardTitle>\n                                        <CardSubtitle\n                                            className=\"text-primary\">Время накладывания: {nt.school}</CardSubtitle>\n                                        <CardSubtitle\n                                            className=\"text-primary\">Уровень: {nt.level}</CardSubtitle>\n                                        <CardSubtitle\n                                            className=\"text-primary\">классы: {cl}</CardSubtitle>\n                                        <CardText className=\"mt-3 truncate-text\">\n                                            <div className=\"mt-3 truncate-text\"\n                                                 dangerouslySetInnerHTML={{__html: nt.text}}/>\n                                        </CardText>\n                                        <Button style={{opacity: 0, height: '0px', width: '0px', padding: 0}}></Button>\n                                        <Button style={{zIndex: 20, position: 'absolute'}} color=\"primary\"\n                                                onClick={() => navigate(`/spells/${nt.name}`)}>Читать\n                                            далее</Button>\n                                    </CardBody>\n                                </Card>\n                            </Col>\n                        );\n                    }\n                })}\n            </Row>\n        </div>\n    );\n};\n\nexport default Spells;\n"],"sourceRoot":""}